(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13e3d7b6"],{1799:function(e,t,c){"use strict";var r=c("7a23"),n={class:"pagination"};function o(e,t,c,o,a,i){return Object(r["openBlock"])(),Object(r["createBlock"])("ul",n,[Object(r["createVNode"])("li",{class:["page-item me-2",{disabled:1===c.pageInfo.current_page}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#",tabindex:"-1","aria-disabled":"true",onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(t){return i.changePage(e.current-1)}),["prevent"]))},"<")],2),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(c.pageInfo.total,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:["page-item me-2",{active:e===c.pageInfo.current}],key:"page".concat(e)},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(r["withModifiers"])((function(t){return i.changePage(e)}),["prevent"])},Object(r["toDisplayString"])(e),9,["onClick"])],2)})),128)),Object(r["createVNode"])("li",{class:["page-item",{disabled:c.pageInfo.current_page===c.pageInfo.total}]},[Object(r["createVNode"])("a",{class:"page-link",href:"#",onClick:t[2]||(t[2]=Object(r["withModifiers"])((function(t){return i.changePage(e.current+1)}),["prevent"]))},">")],2)])}var a={name:"pagination",props:{pageInfo:{type:Object,default:function(){return{current:1,total:1}}}},methods:{changePage:function(e){e!==this.pageInfo.current_page&&this.$emit("changePage",e)}}};a.render=o;t["a"]=a},b6ec:function(e,t,c){"use strict";var r=c("7a23"),n={class:"bg-light mb-4 mb-lg-5"},o={class:"container text-center py-3 py-lg-5"},a={"aria-label":"breadcrumb"};function i(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("section",n,[Object(r["createVNode"])("div",o,[Object(r["createVNode"])("nav",a,[Object(r["renderSlot"])(e.$slots,"breadcrumb")])])])}const l={};l.render=i;t["a"]=l},bc7b:function(e,t,c){"use strict";c.r(t);var r=c("7a23"),n=Object(r["createVNode"])("h2",{class:"fs-6"},"鎂麥產品 / 健康 ▪︎ 寵愛",-1),o={class:"container pt-0 pb-4 py-lg-5"},a={class:"row gx-lg-5"},i={class:"col-lg-3"},l=Object(r["createVNode"])("h3",{class:"fs-7 d-none d-lg-block p-lg-3 bg-light border-start border-primary border-5"}," 產品類型 ",-1),s={class:"ps-1 productType-select p-lg-4"},d={class:"d-none d-lg-inline"},u={key:0,class:"col-lg-9"},p={class:"d-flex px-3 py-2 mb-4 bg-light","data-discript":"filterViewType"},b={class:"me-3"},g={class:"row mb-6"},f={class:"col-md-6 col-lg-4 mb-3"},j={class:"col-12 mb-3"},O={class:"d-flex justify-content-center"},h={key:1,class:"col-lg-9"},v=Object(r["createVNode"])("p",null,"目前沒有產品",-1);function y(e,t,c,y,k,V){var w=Object(r["resolveComponent"])("PageTitle"),m=Object(r["resolveComponent"])("ProductsViewCard"),N=Object(r["resolveComponent"])("Pagination");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(w,null,{breadcrumb:Object(r["withCtx"])((function(){return[n]})),_:1}),Object(r["createVNode"])("div",o,[Object(r["createVNode"])("div",a,[Object(r["createVNode"])("div",i,[l,Object(r["createVNode"])("ul",s,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(V.typesList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:"mb-3",key:e.category,onClick:Object(r["withModifiers"])((function(t){return k.typeSelected=e.category}),["prevent"])},[Object(r["createVNode"])("a",{href:"#",class:["w-100 d-block",{"text-primary":k.typeSelected===e.category}],onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(){}),["prevent"]))},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.category)+" ",1),Object(r["createVNode"])("span",d,"/ "+Object(r["toDisplayString"])(e.count),1)],2)],8,["onClick"])})),128))])]),V.products.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",u,[Object(r["createVNode"])("ul",p,[Object(r["createVNode"])("li",b,[Object(r["createVNode"])("a",{href:"#","data-view":"product-grid",onClick:t[2]||(t[2]=Object(r["withModifiers"])((function(e){return k.productView="grid"}),["prevent"]))},[Object(r["createVNode"])("i",{class:["bi bi-grid fs-4 fw-bold",{"text-primary":"grid"===k.productView}]},null,2)])]),Object(r["createVNode"])("li",null,[Object(r["createVNode"])("a",{href:"#","data-view":"product-list",onClick:t[3]||(t[3]=Object(r["withModifiers"])((function(e){return k.productView="list"}),["prevent"]))},[Object(r["createVNode"])("i",{class:["bi bi-list fs-4 fw-bold",{"text-primary":"list"===k.productView}]},null,2)])])]),Object(r["createVNode"])("div",g,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(V.products,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:null===e||void 0===e?void 0:e.id},[Object(r["withDirectives"])(Object(r["createVNode"])("div",f,[Object(r["createVNode"])(m,{type:k.productView,content:e},null,8,["type","content"])],512),[[r["vShow"],"grid"===k.productView]]),Object(r["withDirectives"])(Object(r["createVNode"])("div",j,[Object(r["createVNode"])(m,{type:k.productView,content:e},null,8,["type","content"])],512),[[r["vShow"],"list"===k.productView]])],64)})),128))]),Object(r["createVNode"])("div",O,[Object(r["createVNode"])(N,{pageInfo:V.pageInfo,onChangePage:V.changePage},null,8,["pageInfo","onChangePage"])])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",h,[v]))])])],64)}var k=c("1da1"),V=c("2909"),w=(c("96cf"),c("c740"),c("99af"),c("4de4"),c("365c")),m=c("4773"),N=c("1799"),P=c("b6ec"),B={name:"product",components:{ProductsViewCard:m["a"],Pagination:N["a"],PageTitle:P["a"]},data:function(){return{productView:"grid",productsAll:[],currentPage:1,typeSelected:"全部"}},computed:{typesList:function(){var e=this.productsAll.reduce((function(e,t){var c=e.findIndex((function(e){return e.category===t.category}));return-1===c?[].concat(Object(V["a"])(e),[{category:t.category,count:1}]):(e[c].count+=1,e)}),[]);return[{category:"全部",count:this.productsAll.length}].concat(Object(V["a"])(e))},selectTypeProducts:function(){var e=this;return this.productsAll.filter((function(t){return"全部"===e.typeSelected||t.category===e.typeSelected}))},products:function(){for(var e=[],t=this.pageInfo,c=t.current,r=t.total,n=t.size,o=r===c?this.selectTypeProducts.length:c*n,a=10*(c-1),i=a;i<o;i+=1)e.push(this.selectTypeProducts[i]);return e},routeTypeSelected:function(){return this.$route.params.typeSelected},pageInfo:function(){return{current:this.currentPage,total:Math.ceil(this.selectTypeProducts.length/10),size:10}}},methods:{fetchAllProduct:function(){var e=this;return Object(k["a"])(regeneratorRuntime.mark((function t(){var c,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$vLoading(!0),t.prev=1,t.next=4,Object(w["q"])();case 4:c=t.sent,r=c.data,n=r.success,o=r.products,n?e.productsAll=o:e.$vHttpsNotice(c,"產品顯示"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),e.$vErrorNotice();case 12:return t.prev=12,e.$vLoading(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()},changePage:function(e){this.currentPage=e}},watch:{routeTypeSelected:function(e){this.typeSelected=e,this.fetchAllProduct()},typeSelected:function(){this.currentPage=1,this.fetchAllProduct()}},created:function(){this.fetchAllProduct()}};B.render=y;t["default"]=B}}]);
//# sourceMappingURL=chunk-13e3d7b6.66982bca.js.map