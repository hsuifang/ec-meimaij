{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","handleLogin","id","type","login","username","aria-describedby","required","password","disabled","isButtonValid","data","computed","this","methods","$vLoading","user","api","res","success","token","saveToken","$router","push","$vHttpsNotice","$vErrorNotice","render"],"mappings":"0IACWA,MAAM,W,GACRA,MAAM,wB,GACJA,MAAM,8B,GACJA,MAAM,Y,GACJA,MAAM,mB,GACJA,MAAM,a,EAEP,yBAA+B,MAA3BA,MAAM,eAAc,MAAE,G,GACrBA,MAAM,Q,EACT,yBAAwD,SAAjDC,IAAI,gBAAgBD,MAAM,cAAa,MAAE,G,GAU7CA,MAAM,Q,EACT,yBAA2D,SAApDC,IAAI,mBAAmBD,MAAM,cAAa,MAAE,G,wDApBnE,yBA0CU,UA1CV,EA0CU,CAzCR,yBAwCM,MAxCN,EAwCM,CAvCJ,yBAsCM,MAtCN,EAsCM,CArCJ,yBAoCM,MApCN,EAoCM,CAnCJ,yBAkCM,MAlCN,EAkCM,CAjCJ,yBAgCM,MAhCN,EAgCM,CA/BJ,yBA8BO,QA9BA,SAAM,0DAAU,EAAAE,aAAA,EAAAA,YAAA,qBAAW,cAAEC,GAAG,gB,CACrC,EACA,yBAUM,MAVN,EAUM,CATJ,E,4BACA,yBAOE,SANAA,GAAG,gBACHC,KAAK,QACLJ,MAAM,e,qDACQ,EAAAK,MAAMC,SAAQ,IAC5BC,mBAAiB,YACjBC,SAAA,I,4BAFc,EAAAH,MAAMC,c,SAApB,QAKJ,yBASM,MATN,EASM,CARJ,E,4BACA,yBAME,SALAH,GAAG,mBACHC,KAAK,WACLJ,MAAM,e,qDACQ,EAAAK,MAAMI,SAAQ,IAC5BD,SAAA,I,4BADc,EAAAH,MAAMI,c,SAApB,QAIJ,yBAMS,UALPL,KAAK,SACLJ,MAAM,4CACLU,UAAW,EAAAC,eACb,OAED,iB,oEAcD,GACbC,KADa,WAEX,MAAO,CACLP,MAAO,CACLC,SAAU,GACVG,SAAU,MAIhBI,SAAU,CACRF,cADQ,WAEN,OAAOG,KAAKT,MAAMC,UAAYQ,KAAKT,MAAMI,WAG7CM,QAAS,CACDb,YADC,WACa,mLAClB,EAAKc,WAAU,GADG,WAGe,EAAKX,MAA5BC,EAHQ,EAGRA,SAAUG,EAHF,EAGEA,SACZQ,EAAO,CAAEX,WAAUG,YAJT,SAKE,OAAAS,EAAA,MAAUD,GALZ,OAKVE,EALU,SAMWA,EAAIP,KAAvBQ,EANQ,EAMRA,QAASC,EAND,EAMCA,MACbD,GACF,OAAIE,UAAUD,GACd,EAAKE,QAAQC,KAAK,WAElB,EAAKC,cAAcN,EAAK,MAXV,qDAchB,EAAKO,gBAdW,yBAgBhB,EAAKV,WAAU,GAhBC,kFC9DxB,EAAOW,OAASA,EAED","file":"js/chunk-2d2086b7.cd83707b.js","sourcesContent":["<template>\n  <section class=\"bg-logo\">\n    <div class=\"container min-vh-100\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-lg-8\">\n          <div class=\"card top-50 p-3\">\n            <div class=\"card-body\">\n              <form @submit.prevent=\"handleLogin\" id=\"js-loginForm\">\n                <h3 class=\"text-center\">登入</h3>\n                <div class=\"mb-3\">\n                  <label for=\"js-loginEmail\" class=\"form-label\">帳號</label>\n                  <input\n                    id=\"js-loginEmail\"\n                    type=\"email\"\n                    class=\"form-control\"\n                    v-model.trim=\"login.username\"\n                    aria-describedby=\"emailHelp\"\n                    required\n                  />\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"js-loginPassword\" class=\"form-label\">密碼</label>\n                  <input\n                    id=\"js-loginPassword\"\n                    type=\"password\"\n                    class=\"form-control\"\n                    v-model.trim=\"login.password\"\n                    required\n                  />\n                </div>\n                <button\n                  type=\"submit\"\n                  class=\"btn btn-primary text-white m-auto d-block\"\n                  :disabled=\"!isButtonValid\"\n                >\n                  送出\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport JWT from '@/api/cookies';\nimport { apiSignIn } from '@/api';\n\nexport default {\n  data() {\n    return {\n      login: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  computed: {\n    isButtonValid() {\n      return this.login.username && this.login.password;\n    },\n  },\n  methods: {\n    async handleLogin() {\n      this.$vLoading(true);\n      try {\n        const { username, password } = this.login;\n        const user = { username, password };\n        const res = await apiSignIn(user);\n        const { success, token } = res.data;\n        if (success) {\n          JWT.saveToken(token);\n          this.$router.push('/admin');\n        } else {\n          this.$vHttpsNotice(res, '登入');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=321ddfbb\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}