{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/userSide/UserOrderHistory.vue","webpack:///./src/views/userSide/UserOrderHistory.vue?7da2"],"names":["class","pageInfo","current_page","href","tabindex","aria-disabled","changePage","current","total","num","key","name","props","type","Object","default","methods","this","$emit","render","scope","colspan","list","length","item","id","products","order","product","title","$filters","currency","localeDateStr","create_at","is_paid","paid_date","localeTimeStr","$router","push","components","Pagination","data","queryOrderList","page","$vLoading","api","res","success","orders","pagination","total_pages","$vErrorNotice","created"],"mappings":"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","file":"js/chunk-7e6e99db.702b9755.js","sourcesContent":["<template>\n  <ul class=\"pagination\">\n    <li class=\"page-item me-2\" :class=\"{ disabled: pageInfo.current_page === 1 }\">\n      <a\n        class=\"page-link\"\n        href=\"#\"\n        tabindex=\"-1\"\n        aria-disabled=\"true\"\n        @click.prevent=\"changePage(current - 1)\"\n        >&lt;</a\n      >\n    </li>\n\n    <li\n      class=\"page-item me-2\"\n      :class=\"{ active: num === pageInfo.current }\"\n      v-for=\"num in pageInfo.total\"\n      :key=\"`page${num}`\"\n    >\n      <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(num)\">{{ num }}</a>\n    </li>\n    <li class=\"page-item\" :class=\"{ disabled: pageInfo.current_page === pageInfo.total }\">\n      <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(current + 1)\">&gt;</a>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'pagination',\n  props: {\n    pageInfo: {\n      type: Object,\n      default: () => ({\n        current: 1,\n        total: 1,\n      }),\n    },\n  },\n  methods: {\n    changePage(num) {\n      if (num !== this.pageInfo.current_page) {\n        this.$emit('changePage', num);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=8d03cb28\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"row\">\n    <div class=\"col-lg-12\">\n      <div class=\"table-responsive py-lg-3 mb-2 p-md-5 bg-white rounded border\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\" class=\"py-3 border-0 bg-light\">名稱</th>\n              <th scope=\"col\" class=\"py-3 border-0 bg-light\">數量</th>\n              <th scope=\"col\" class=\"py-3 border-0 bg-light\">訂購日期</th>\n              <th scope=\"col\" class=\"py-3 border-0 bg-light\">付款</th>\n              <th scope=\"col\" class=\"py-3 border-0 bg-light\">明細</th>\n            </tr>\n          </thead>\n          <tbody>\n            <template v-if=\"list.length > 0\">\n              <tr v-for=\"item in list\" :key=\"item.id\">\n                <td class=\"align-middle\">\n                  <p class=\"fs-7 text-dark\" v-for=\"order in item.products\" :key=\"order.id\">\n                    {{ order.product.title }}\n                  </p>\n                  <p class=\"fs-8 text-secondary mt-1\">{{ $filters.currency(item.total) }}</p>\n                </td>\n                <td class=\"align-middle fs-8\">{{ item.num }}</td>\n                <td class=\"align-middle fs-8\">\n                  {{ $filters.localeDateStr(item.create_at) }}\n                </td>\n                <td class=\"align-middle\">\n                  <p\n                    :class=\"[item.is_paid ? 'bg-success' : 'bg-danger']\"\n                    class=\"rounded text-white px-2 d-inline-block mb-1 fs-8\"\n                  >\n                    {{ item.is_paid ? '已付款' : '未付款' }}\n                  </p>\n                  <p v-if=\"item.paid_date\" class=\"fs-9\">\n                    {{ $filters.localeDateStr(item.paid_date) }}\n                    {{ $filters.localeTimeStr(item.paid_date) }}\n                  </p>\n                </td>\n                <td class=\"align-middle\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-info\"\n                    @click=\"$router.push(`/order/${item.id}`)\"\n                  >\n                    <i class=\"bi bi-eyeglasses\"></i>\n                  </button>\n                </td>\n              </tr>\n            </template>\n            <tr v-else>\n              <td colspan=\"6\" class=\"text-center\">目前無購物資料</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n  <div class=\"d-flex justify-content-md-between\">\n    <p>\n      目前有 <span>{{ list.length }}</span> 項訂購\n    </p>\n    <Pagination :pageInfo=\"pageInfo\" @changePage=\"changePage\" />\n  </div>\n</template>\n\n<script>\nimport { apiUserQueryOrders } from '@/api';\nimport Pagination from '@/components/Pagination.vue';\n\nexport default {\n  components: {\n    Pagination,\n  },\n  data() {\n    return {\n      list: [],\n      pageInfo: {\n        current: 1,\n        total: 1,\n      },\n    };\n  },\n  methods: {\n    async queryOrderList(page = 1) {\n      this.$vLoading(true);\n      try {\n        const res = await apiUserQueryOrders(page);\n        const { success, orders, pagination } = res.data;\n        if (success) {\n          this.list = orders;\n          this.pageInfo = {\n            current: pagination.current_page,\n            total: pagination.total_pages,\n          };\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    changePage(page) {\n      this.queryOrderList(page);\n    },\n  },\n  created() {\n    this.queryOrderList();\n  },\n};\n</script>\n","import { render } from \"./UserOrderHistory.vue?vue&type=template&id=24f34382\"\nimport script from \"./UserOrderHistory.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrderHistory.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}