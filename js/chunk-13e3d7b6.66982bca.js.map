{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/layout/PageTitle.vue","webpack:///./src/layout/PageTitle.vue?55c6","webpack:///./src/views/userSide/UserProducts.vue","webpack:///./src/views/userSide/UserProducts.vue?2fbc"],"names":["class","pageInfo","current_page","href","tabindex","aria-disabled","changePage","current","total","num","key","name","props","type","Object","default","methods","this","$emit","render","aria-label","script","data-discript","breadcrumb","typesList","category","typeSelected","count","products","length","data-view","productView","item","id","content","components","ProductsViewCard","Pagination","PageTitle","data","productsAll","currentPage","computed","types","reduce","acc","idx","findIndex","selectTypeProducts","filter","product","size","maxNumber","fromNumber","i","push","routeTypeSelected","$route","params","Math","ceil","fetchAllProduct","$vLoading","api","res","success","$vHttpsNotice","$vErrorNotice","page","watch","val","created"],"mappings":"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","file":"js/chunk-13e3d7b6.66982bca.js","sourcesContent":["<template>\n  <ul class=\"pagination\">\n    <li class=\"page-item me-2\" :class=\"{ disabled: pageInfo.current_page === 1 }\">\n      <a\n        class=\"page-link\"\n        href=\"#\"\n        tabindex=\"-1\"\n        aria-disabled=\"true\"\n        @click.prevent=\"changePage(current - 1)\"\n        >&lt;</a\n      >\n    </li>\n\n    <li\n      class=\"page-item me-2\"\n      :class=\"{ active: num === pageInfo.current }\"\n      v-for=\"num in pageInfo.total\"\n      :key=\"`page${num}`\"\n    >\n      <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(num)\">{{ num }}</a>\n    </li>\n    <li class=\"page-item\" :class=\"{ disabled: pageInfo.current_page === pageInfo.total }\">\n      <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(current + 1)\">&gt;</a>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'pagination',\n  props: {\n    pageInfo: {\n      type: Object,\n      default: () => ({\n        current: 1,\n        total: 1,\n      }),\n    },\n  },\n  methods: {\n    changePage(num) {\n      if (num !== this.pageInfo.current_page) {\n        this.$emit('changePage', num);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=8d03cb28\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <section class=\"bg-light mb-4 mb-lg-5\">\n    <div class=\"container text-center py-3 py-lg-5\">\n      <nav aria-label=\"breadcrumb\">\n        <slot name=\"breadcrumb\"></slot>\n      </nav>\n    </div>\n  </section>\n</template>\n","import { render } from \"./PageTitle.vue?vue&type=template&id=2d4a9dde\"\nconst script = {}\nscript.render = render\n\nexport default script","<template>\n  <PageTitle>\n    <template v-slot:breadcrumb>\n      <h2 class=\"fs-6\">鎂麥產品 / 健康 ▪︎ 寵愛</h2>\n    </template>\n  </PageTitle>\n  <div class=\"container pt-0 pb-4 py-lg-5\">\n    <div class=\"row gx-lg-5\">\n      <div class=\"col-lg-3\">\n        <h3 class=\"fs-7 d-none d-lg-block p-lg-3 bg-light border-start border-primary border-5\">\n          產品類型\n        </h3>\n        <ul class=\"ps-1 productType-select p-lg-4\">\n          <li\n            class=\"mb-3\"\n            v-for=\"type in typesList\"\n            :key=\"type.category\"\n            @click.prevent=\"typeSelected = type.category\"\n          >\n            <a\n              href=\"#\"\n              class=\"w-100 d-block\"\n              :class=\"{ 'text-primary': typeSelected === type.category }\"\n              @click.prevent\n              >{{ type.category }} <span class=\"d-none d-lg-inline\">/ {{ type.count }}</span></a\n            >\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-lg-9\" v-if=\"products.length > 0\">\n        <ul class=\"d-flex px-3 py-2 mb-4 bg-light\" data-discript=\"filterViewType\">\n          <li class=\"me-3\">\n            <a href=\"#\" data-view=\"product-grid\" @click.prevent=\"productView = 'grid'\"\n              ><i\n                class=\"bi bi-grid fs-4 fw-bold\"\n                :class=\"{ 'text-primary': productView === 'grid' }\"\n              ></i\n            ></a>\n          </li>\n          <li>\n            <a href=\"#\" data-view=\"product-list\" @click.prevent=\"productView = 'list'\"\n              ><i\n                class=\"bi bi-list fs-4 fw-bold\"\n                :class=\"{ 'text-primary': productView === 'list' }\"\n              ></i\n            ></a>\n          </li>\n        </ul>\n        <div class=\"row mb-6\">\n          <template v-for=\"item in products\" :key=\"item?.id\">\n            <div class=\"col-md-6 col-lg-4 mb-3\" v-show=\"productView === 'grid'\">\n              <ProductsViewCard :type=\"productView\" :content=\"item\" />\n            </div>\n            <div class=\"col-12 mb-3\" v-show=\"productView === 'list'\">\n              <ProductsViewCard :type=\"productView\" :content=\"item\" />\n            </div>\n          </template>\n        </div>\n        <div class=\"d-flex justify-content-center\">\n          <Pagination :pageInfo=\"pageInfo\" @changePage=\"changePage\" />\n        </div>\n      </div>\n      <div class=\"col-lg-9\" v-else>\n        <p>目前沒有產品</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiGetProductsAll } from '@/api';\nimport ProductsViewCard from '@/components/ProductsViewCard.vue';\nimport Pagination from '@/components/Pagination.vue';\nimport PageTitle from '@/layout/PageTitle.vue';\n\nexport default {\n  name: 'product',\n  components: {\n    ProductsViewCard,\n    Pagination,\n    PageTitle,\n  },\n  data() {\n    return {\n      productView: 'grid',\n      productsAll: [],\n      currentPage: 1,\n      typeSelected: '全部',\n    };\n  },\n  computed: {\n    typesList() {\n      const types = this.productsAll.reduce((acc, current) => {\n        const idx = acc.findIndex((item) => item.category === current.category);\n        if (idx === -1) {\n          return [...acc, { category: current.category, count: 1 }];\n        }\n        acc[idx].count += 1;\n        return acc;\n      }, []);\n      return [\n        {\n          category: '全部',\n          count: this.productsAll.length,\n        },\n        ...types,\n      ];\n    },\n    selectTypeProducts() {\n      return this.productsAll.filter((product) => {\n        if (this.typeSelected !== '全部') {\n          return product.category === this.typeSelected;\n        }\n        return true;\n      });\n    },\n    products() {\n      const data = [];\n      const { current, total, size } = this.pageInfo;\n      const maxNumber = total === current ? this.selectTypeProducts.length : current * size;\n      const fromNumber = (current - 1) * 10;\n      for (let i = fromNumber; i < maxNumber; i += 1) {\n        data.push(this.selectTypeProducts[i]);\n      }\n      return data;\n    },\n    routeTypeSelected() {\n      return this.$route.params.typeSelected;\n    },\n    pageInfo() {\n      return {\n        current: this.currentPage,\n        total: Math.ceil(this.selectTypeProducts.length / 10),\n        size: 10,\n      };\n    },\n  },\n  methods: {\n    async fetchAllProduct() {\n      this.$vLoading(true);\n      try {\n        const res = await apiGetProductsAll();\n        const { success, products } = res.data;\n        if (success) {\n          this.productsAll = products;\n        } else {\n          this.$vHttpsNotice(res, '產品顯示');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    changePage(page) {\n      this.currentPage = page;\n    },\n  },\n  watch: {\n    routeTypeSelected(val) {\n      this.typeSelected = val;\n      this.fetchAllProduct();\n    },\n    typeSelected() {\n      this.currentPage = 1;\n      this.fetchAllProduct();\n    },\n  },\n  created() {\n    this.fetchAllProduct();\n  },\n};\n</script>\n","import { render } from \"./UserProducts.vue?vue&type=template&id=995f9fb6\"\nimport script from \"./UserProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserProducts.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}