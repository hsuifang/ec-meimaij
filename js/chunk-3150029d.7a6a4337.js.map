{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/layout/PageTitle.vue","webpack:///./src/layout/PageTitle.vue?55c6","webpack:///./src/views/userSide/UserOrder.vue","webpack:///./src/views/userSide/UserOrder.vue?49c3"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","aria-label","script","render","style","breadcrumb","order","id","$filters","localeDateStr","create_at","localeTimeStr","processStatus","user","name","address","tel","email","Object","keys","products","key","product","title","qty","currency","total","is_paid","type","payForOrder","components","PageTitle","data","orderId","methods","getOrderInfo","$vLoading","api","res","success","$vHttpsNotice","$vErrorNotice","$swal","icon","button","init","$route","params","$router","push","created"],"mappings":"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","file":"js/chunk-3150029d.7a6a4337.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <section class=\"bg-light mb-4 mb-lg-5\">\n    <div class=\"container text-center py-3 py-lg-5\">\n      <nav aria-label=\"breadcrumb\">\n        <slot name=\"breadcrumb\"></slot>\n      </nav>\n    </div>\n  </section>\n</template>\n","import { render } from \"./PageTitle.vue?vue&type=template&id=2d4a9dde\"\nconst script = {}\nscript.render = render\n\nexport default script","<template>\n  <PageTitle>\n    <template v-slot:breadcrumb>\n      <h2 class=\"fs-6\">鎂麥 / 結帳</h2>\n    </template>\n  </PageTitle>\n  <div class=\"container py-lg-4 mb-8 mb-lg-0\">\n    <div class=\"d-lg-flex justify-content-center align-items-center mb-5\">\n      <p class=\"fs-1 me-3\">\n        <i class=\"bi bi-check-circle-fill text-success\" style=\"top: -10px\"></i>\n      </p>\n      <div>\n        <h5 class=\"mb-1\">感謝您！您的訂單已建立完成</h5>\n        <p class=\"text-info\">訂單編號: {{ order.id }}</p>\n      </div>\n    </div>\n    <div class=\"pb-md-5\">\n      <p class=\"border-bottom-custom\"></p>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-lg-6\">\n        <div class=\"mb-6\">\n          <h3 class=\"h6 mb-2 mb-md-3 fw-bold\">訂單資訊</h3>\n          <ul class=\"list-group-flush\">\n            <li class=\"d-flex mb-2\">\n              <p class=\"w-25 me-1 me-lg-0 text-info\">訂購時間</p>\n              <p class=\"w-75\">\n                {{ $filters.localeDateStr(order.create_at) }}\n                {{ $filters.localeTimeStr(order.create_at) }}\n              </p>\n            </li>\n            <li class=\"d-flex\">\n              <p class=\"w-25 me-1 me-lg-0 text-info\">處理狀態</p>\n              <p class=\"w-75\">{{ order.processStatus || '處理中' }}</p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"mb-6\">\n          <h3 class=\"h6 mb-2 mb-md-3 fw-bold\">聯絡資訊</h3>\n          <ul class=\"list-group-flush\">\n            <li class=\"d-lg-flex mb-1 mb-md-2\">\n              <p class=\"w-25 me-3 me-lg-0 text-info\">姓名</p>\n              <p class=\"w-75\">{{ order.user?.name }}</p>\n            </li>\n            <li class=\"d-lg-flex mb-2\">\n              <p class=\"w-25 me-3 me-lg-0 text-info\">運送地址</p>\n              <p class=\"w-75\">{{ order.user?.address }}</p>\n            </li>\n            <li class=\"d-lg-flex mb-2\">\n              <p class=\"w-25 me-3 me-lg-0 text-info\">聯絡電話</p>\n              <p class=\"w-75\">{{ order.user?.tel }}</p>\n            </li>\n            <li class=\"d-lg-flex\">\n              <p class=\"w-25 me-3 me-lg-0 text-info\">聯絡信箱</p>\n              <p class=\"w-75\">{{ order.user?.email }}</p>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"col-lg-6\">\n        <div class=\"mb-6\">\n          <h3 class=\"h6 mb-2 mb-md-3 fw-bold\">購買項目</h3>\n          <ul class=\"list-group list-group-flush\">\n            <li v-for=\"key in Object.keys(order.products || [])\" :key=\"key\">\n              <div class=\"d-md-flex justify-content-between mb-md-2\">\n                <p>{{ order.products[key].product.title }} x {{ order.products[key].qty }}</p>\n                <p>{{ $filters.currency(order.products[key].total) }}</p>\n              </div>\n            </li>\n            <li class=\"d-flex justify-content-between\">\n              <p>總計</p>\n              <p class=\"fw-bold\">{{ $filters.currency(order.total) }}</p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"mb-2 mb-lg-4\">\n          <h3 class=\"h6 mb-2 mb-md-3 fw-bold\">付款狀態</h3>\n          <ul class=\"list-group-flush bg-light py-4\">\n            <li class=\"d-flex mb-2\">\n              <p class=\"me-2\">付款方式/</p>\n              <p>信用卡</p>\n            </li>\n            <li class=\"d-flex\">\n              <p class=\"me-2\">付款狀態/</p>\n              <p\n                :class=\"[order.is_paid ? 'bg-success' : 'bg-danger']\"\n                class=\"rounded text-white px-2\"\n              >\n                {{ order.is_paid ? '已付款' : '未付款' }}\n              </p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"text-end\">\n          <button\n            v-if=\"!order?.is_paid\"\n            type=\"button\"\n            class=\"btn btn-primary px-6 text-white\"\n            @click=\"payForOrder\"\n          >\n            付款\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiUserGetOrder, apiUserPayment } from '@/api';\nimport PageTitle from '@/layout/PageTitle.vue';\n\nexport default {\n  components: {\n    PageTitle,\n  },\n  data() {\n    return {\n      orderId: '',\n      order: {\n        products: [],\n      },\n    };\n  },\n  methods: {\n    async getOrderInfo(orderId) {\n      this.$vLoading(true);\n      try {\n        const res = await apiUserGetOrder(orderId);\n        const { success, order } = res.data;\n        if (success) {\n          this.order = order;\n        } else {\n          this.$vHttpsNotice(res, '訂單');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    async payForOrder() {\n      this.$vLoading(true);\n      try {\n        const res = await apiUserPayment(this.orderId);\n        const { success } = res.data;\n        if (success) {\n          this.$vLoading(false);\n          this.order.is_paid = true;\n          this.$swal({\n            title: '付款完成',\n            icon: 'success',\n            button: '確認',\n          });\n        } else {\n          this.$vHttpsNotice(res, '付款');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    init() {\n      this.orderId = this.$route.params.id;\n      if (this.orderId) {\n        this.getOrderInfo(this.orderId);\n      } else {\n        this.$router.push('/member');\n      }\n    },\n  },\n  created() {\n    this.init();\n  },\n};\n</script>\n","import { render } from \"./UserOrder.vue?vue&type=template&id=35f86c01\"\nimport script from \"./UserOrder.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrder.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}