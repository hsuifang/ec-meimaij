{"version":3,"sources":["webpack:///./src/views/adminSide/TheOrders.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?658e","webpack:///./src/views/adminSide/TheOrders.vue?e6cb","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","scope","colspan","alt","width","src","orders","length","type","showCheckAgain","isLoading","item","key","id","$filters","localeDateStr","create_at","user","name","products","product","prodcutKey","title","qty","unit","currency","total","is_paid","toggleOrderItemStatus","data-action","handleOrderItem","pageInfo","changePage","ref","orderInfo","currentItem","submitOrderItem","content","questionModalContent","checkInfo","tabindex","role","aria-labelledby","data-bs-backdrop","aria-hidden","for","data-bs-dismiss","aria-label","$emit","tempOrder","email","tel","address","localeTimeStr","paid_date","localeDateStrs","final_total","value","props","Object","default","mixins","modalMixin","emits","data","watch","this","render","components","Pagination","OrderModal","QuestionModal","current","isCreateItem","targetItemId","methods","fetchOrders","page","api","res","pagination","success","current_page","total_pages","$vHttpNotice","$vErrorNotice","deleteOrderItem","deleteAllOrders","$vLoading","carts","$vHttpsNotice","couponId","$refs","orderModal","closeModal","idx","findIndex","questionModal","openModal","updateOrderItem","info","init","created","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-362e0086.bd5914bf.js","sourcesContent":["<template>\n  <div class=\"container pt-4 pb-4 pt-lg-7 pb-lg-7\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <!-- create Btn -->\n        <div class=\"d-flex justify-content-md-between pr-3 mb-4\">\n          <h2 class=\"h6 text-info\">訂單清單</h2>\n          <div class=\"text-end mb-2\" v-if=\"orders.length > 0\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-secondary py-2 px-3\"\n              @click=\"showCheckAgain({ title: '全部' })\"\n            >\n              刪除全部\n            </button>\n          </div>\n        </div>\n        <table class=\"table caption-top\">\n          <thead>\n            <tr>\n              <th scope=\"col\">購買時間</th>\n              <th scope=\"col\">姓名</th>\n              <th scope=\"col\">購買款項</th>\n              <th scope=\"col\">付款金額</th>\n              <th scope=\"col\">是否付款</th>\n              <th scope=\"col\">功能</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-if=\"isLoading\">\n              <td class=\"text-center text-muted\" colspan=\"6\">\n                <img\n                  alt=\"loading\"\n                  width=\"100\"\n                  src=\"https://media.giphy.com/media/wnYB3vx9t6PXiq1ubB/giphy.gif\"\n                />\n              </td>\n            </tr>\n            <template v-else>\n              <tr v-for=\"item in orders\" :key=\"item.id\">\n                <td>{{ $filters.localeDateStr(item.create_at) }}</td>\n                <td>{{ item.user.name }}</td>\n                <td>\n                  <ul class=\"list-unstyled\">\n                    <li v-for=\"(product, prodcutKey) in item.products\" :key=\"prodcutKey\">\n                      {{ product.product.title }}\n                      <span class=\"text-secondary\"\n                        >數量：{{ product.qty }} {{ product.product.unit }}</span\n                      >\n                    </li>\n                  </ul>\n                </td>\n                <td>{{ $filters.currency(item.total) }}</td>\n                <td>\n                  <div class=\"form-check form-switch\">\n                    <input\n                      class=\"form-check-input\"\n                      type=\"checkbox\"\n                      v-model=\"item.is_paid\"\n                      @change=\"toggleOrderItemStatus(item)\"\n                    />\n                  </div>\n                </td>\n                <td>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-sm btn-outline-info me-1\"\n                    data-action=\"remove\"\n                    @click=\"handleOrderItem(item)\"\n                  >\n                    編輯\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-sm btn-danger text-white\"\n                    data-action=\"remove\"\n                    @click=\"showCheckAgain({ id: item.id, title: item.title })\"\n                  >\n                    刪除\n                  </button>\n                </td>\n              </tr>\n              <!-- no data -->\n              <tr v-if=\"orders.length === 0\" class=\"text-center text-muted\">\n                <td class=\"text-center text-muted\" colspan=\"6\">無商品</td>\n              </tr>\n            </template>\n          </tbody>\n        </table>\n        <div class=\"d-flex justify-content-md-between\">\n          <p>\n            目前有 <span>{{ orders.length }}</span> 項訂單\n          </p>\n          <Pagination :pageInfo=\"pageInfo\" @changePage=\"changePage\" />\n        </div>\n      </div>\n    </div>\n  </div>\n  <OrderModal\n    ref=\"orderModal\"\n    :orderInfo=\"currentItem\"\n    @updateOrder=\"submitOrderItem\"\n    @clearItem=\"currentItem = {}\"\n  />\n  <QuestionModal ref=\"questionModal\" :content=\"questionModalContent\" @checkInfo=\"checkInfo\" />\n</template>\n\n<script>\nimport { apiGetOrders, apiUpdateOrder, apiDelOrder, apiDelOrderAll } from '@/api';\nimport Pagination from '@/components/Pagination.vue';\nimport OrderModal from '@/components/OrderModal.vue';\nimport QuestionModal from '@/components/QuestionModal.vue';\n\nexport default {\n  components: {\n    Pagination,\n    OrderModal,\n    QuestionModal,\n  },\n  data() {\n    return {\n      currentItem: {},\n      orders: [],\n      pageInfo: {\n        current: 1,\n        total: 1,\n      },\n      isCreateItem: true,\n      isLoading: false,\n      questionModalContent: '',\n      targetItemId: '',\n    };\n  },\n  methods: {\n    async fetchOrders(page = 1) {\n      try {\n        this.isLoading = true;\n        const res = await apiGetOrders(page);\n        const { orders, pagination, success } = res.data;\n        if (success) {\n          this.orders = orders;\n          this.pageInfo = {\n            current: pagination.current_page,\n            total: pagination.total_pages,\n          };\n        } else {\n          this.$vHttpNotice(res, '取得訂單資訊');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async toggleOrderItemStatus(item) {\n      try {\n        this.isLoading = true;\n        this.currentItem = item;\n        await this.submitOrderItem(this.currentItem);\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async deleteOrderItem(id) {\n      this.isLoading = true;\n      try {\n        const res = await apiDelOrder(id);\n        if (res.data.success) {\n          this.fetchOrders(this.pageInfo.current_page);\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async deleteAllOrders() {\n      this.$vLoading(true);\n      try {\n        const res = await apiDelOrderAll();\n        const { success } = res.data;\n        if (success) {\n          this.carts = [];\n          this.fetchOrders();\n        } else {\n          this.$vHttpsNotice(res, '刪除所有訂單');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    async submitOrderItem(content) {\n      try {\n        this.$vLoading(true);\n        const couponId = content.id;\n        const res = await apiUpdateOrder({ id: couponId, data: { data: content } });\n        const { success } = res.data;\n        if (success) {\n          this.$refs.orderModal.closeModal();\n          if (couponId) {\n            const idx = this.orders.findIndex((item) => item.id === couponId);\n            if (idx !== -1) {\n              this.orders[idx] = content;\n            }\n          } else {\n            this.fetchOrders();\n          }\n        }\n        this.$vHttpsNotice(res, '修改訂單資訊');\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n    showCheckAgain({ id, title }) {\n      this.questionModalContent = `你確定要刪除-${title}嗎？`;\n      this.targetItemId = id;\n      this.$refs.questionModal.openModal();\n    },\n    checkInfo() {\n      if (!this.targetItemId) {\n        this.deleteAllOrders();\n      } else {\n        this.deleteOrderItem(this.targetItemId);\n      }\n    },\n    handleOrderItem(item) {\n      if (item) {\n        this.currentItem = item;\n        this.isCreateItem = false;\n      }\n      this.$refs.orderModal.openModal();\n    },\n    updateOrderItem(info) {\n      this.submitOrderItem(info);\n    },\n    changePage(page) {\n      this.fetchOrders(page);\n    },\n    init() {\n      this.fetchOrders();\n    },\n  },\n  created() {\n    this.init();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"orderModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    data-bs-backdrop=\"static\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單細節</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n            @click=\"$emit('clearItem')\"\n          ></button>\n        </div>\n        <div class=\"modal-body px-5 py-4\">\n          <div class=\"row\">\n            <div class=\"col-lg-5 mb-5\">\n              <h3 class=\"fs-6 bg-light rounded-pill px-4 py-3 fw-bold text-secondary\">用戶資料</h3>\n              <ul class=\"list-unstyled px-4\" v-if=\"tempOrder.user\">\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">姓名</h4>\n                  <p>{{ tempOrder.user.name }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">Email</h4>\n                  <p>{{ tempOrder.user.email }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">電話</h4>\n                  <p>{{ tempOrder.user.tel }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">地址</h4>\n                  <p>{{ tempOrder.user.address }}</p>\n                </li>\n              </ul>\n            </div>\n            <div class=\"col-lg-7\">\n              <h3 class=\"fs-6 bg-light rounded-pill px-4 py-3 fw-bold text-secondary\">訂單細節</h3>\n              <ul class=\"list-unstyled px-4 mb-4\">\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">訂單編號</h4>\n                  <p>{{ tempOrder.id }}</p>\n                </li>\n                <li class=\"d-flex justify-content-between align-items-center py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">下單時間</h4>\n                  <p>\n                    {{ $filters.localeDateStr(tempOrder.create_at) }}\n                    {{ $filters.localeTimeStr(tempOrder.create_at) }}\n                  </p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">付款時間</h4>\n                  <p>\n                    <span v-if=\"tempOrder.paid_date\">\n                      {{ $filters.localeDateStrs(tempOrder.paid_date) }}\n                    </span>\n                    <span v-else>-</span>\n                  </p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">付款狀態</h4>\n                  <p>\n                    <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\n                    <span v-else class=\"text-muted\">尚未付款</span>\n                  </p>\n                </li>\n                <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                  <h4 class=\"fs-6 mb-0\">總金額</h4>\n                  <p>\n                    {{ $filters.currency(tempOrder.total) }}\n                  </p>\n                </li>\n              </ul>\n              <h3 class=\"fs-6 bg-light rounded-pill px-4 py-3 mb-3 fw-bold text-secondary\">\n                選購商品\n              </h3>\n              <ul class=\"list-unstyled px-4 mb-3\">\n                <li\n                  class=\"d-flex justify-content-between\"\n                  v-for=\"item in tempOrder.products\"\n                  :key=\"item.id\"\n                >\n                  <h3 class=\"fs-6\">{{ item.product.title }}</h3>\n                  <p>{{ item.qty }} / {{ item.product.unit }}</p>\n                  <p>{{ $filters.currency(item.final_total) }}</p>\n                </li>\n              </ul>\n              <div class=\"d-flex justify-content-end px-4\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    value=\"\"\n                    id=\"flexCheckDefault\"\n                    v-model=\"tempOrder.is_paid\"\n                  />\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('updateOrder', tempOrder)\">\n            修改付款狀態\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    orderInfo: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  mixins: [modalMixin],\n  emits: ['updateOrder', 'clearItem'],\n  data() {\n    return {\n      tempOrder: {},\n    };\n  },\n  watch: {\n    orderInfo() {\n      this.tempOrder = { ...this.orderInfo };\n    },\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=65b7da0e\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./TheOrders.vue?vue&type=template&id=06f9776e\"\nimport script from \"./TheOrders.vue?vue&type=script&lang=js\"\nexport * from \"./TheOrders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}