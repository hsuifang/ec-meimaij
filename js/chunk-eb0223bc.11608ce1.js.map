{"version":3,"sources":["webpack:///./src/views/adminSide/Admin.vue","webpack:///./src/views/adminSide/Admin.vue?3a0c","webpack:///./src/views/adminSide/Admin.vue?b42d"],"names":["class","to","href","handleLogout","isAuthenticated","name","data","methods","checkLogin","$vLoading","token","getToken","api","res","success","$router","push","$vErrorNotice","removeToken","created","this","render"],"mappings":"0IACOA,MAAM,2B,GACJA,MAAM,kB,GACLA,MAAM,iD,GACJA,MAAM,Y,+BAAgD,Q,GACtDA,MAAM,Y,+BACkC,Q,GAExCA,MAAM,Y,+BACyC,M,GAE/CA,MAAM,Y,+BAC0C,O,GAEhDA,MAAM,Y,0JAbhB,yBAmBM,MAnBN,EAmBM,CAlBJ,yBAiBM,MAjBN,EAiBM,CAhBJ,yBAcK,KAdL,EAcK,CAbH,yBAAiF,KAAjF,EAAiF,CAA5D,yBAAuD,GAA1CA,MAAM,WAAWC,GAAG,K,+BAAI,iBAAI,C,cAC9D,yBAEK,KAFL,EAEK,CADH,yBAA4D,GAA/CD,MAAM,WAAWC,GAAG,U,+BAAS,iBAAI,C,cAEhD,yBAEK,KAFL,EAEK,CADH,yBAAiE,GAApDD,MAAM,WAAWC,GAAG,iB,+BAAgB,iBAAE,C,cAErD,yBAEK,KAFL,EAEK,CADH,yBAAmE,GAAtDD,MAAM,WAAWC,GAAG,kB,+BAAiB,iBAAG,C,cAEvD,yBAEK,KAFL,EAEK,CADH,yBAAiE,KAA9DC,KAAK,IAAIF,MAAM,WAAY,QAAK,0DAAU,EAAAG,cAAA,EAAAA,aAAA,qBAAY,eAAE,UAG5C,EAAAC,iB,yBAAnB,yBAAkD,Y,+FASzC,GACbC,KAAM,YACNC,KAFa,WAGX,MAAO,CACLF,iBAAiB,IAGrBG,QAAS,CACDC,WADC,WACY,qKACjB,EAAKC,WAAU,GACTC,EAAQ,OAAIC,YACdD,EAHa,0CAKK,OAAAE,EAAA,MAAaF,GALlB,OAKPG,EALO,OAMLC,EAAYD,EAAIP,KAAhBQ,QACJA,EACF,EAAKV,iBAAkB,EAEvB,EAAKW,QAAQC,KAAK,UAVP,qDAab,EAAKC,gBAbQ,yBAeb,EAAKR,WAAU,GAfF,6CAkBf,EAAKM,QAAQC,KAAK,UAClB,EAAKP,WAAU,GAnBA,mEAsBbN,aAvBC,WAuBc,qKACnB,EAAKM,WAAU,GADI,kBAGC,OAAAG,EAAA,QAHD,OAGXC,EAHW,OAIbA,EAAIP,KAAKQ,UACX,OAAII,cACJ,EAAKd,iBAAkB,EACvB,EAAKW,QAAQC,KAAK,WAPH,mDAUjB,EAAKC,gBAVY,yBAYjB,EAAKR,WAAU,GAZE,gFAgBvBU,QA9Ca,WA+CXC,KAAKZ,e,UCrET,EAAOa,OAASA,EAED,gB,kCCPf,W","file":"js/chunk-eb0223bc.11608ce1.js","sourcesContent":["<template>\n  <div class=\"back bg-logo min-vh-100\">\n    <div class=\"container py-5\">\n      <ul class=\"nav justify-content-center align-items-center\">\n        <li class=\"nav-item\"><router-link class=\"nav-link\" to=\"/\">回到前台</router-link></li>\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link\" to=\"/admin\">產品列表</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link\" to=\"/admin/orders\">訂單</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link class=\"nav-link\" to=\"/admin/coupons\">優惠券</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <a href=\"#\" class=\"nav-link\" @click.prevent=\"handleLogout\">登出</a>\n        </li>\n      </ul>\n      <router-view v-if=\"isAuthenticated\"></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiCheckUser, apiLogout } from '@/api';\nimport JWT from '@/api/cookies';\n\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      isAuthenticated: false,\n    };\n  },\n  methods: {\n    async checkLogin() {\n      this.$vLoading(true);\n      const token = JWT.getToken();\n      if (token) {\n        try {\n          const res = await apiCheckUser(token);\n          const { success } = res.data;\n          if (success) {\n            this.isAuthenticated = true;\n          } else {\n            this.$router.push('/login');\n          }\n        } catch (error) {\n          this.$vErrorNotice();\n        } finally {\n          this.$vLoading(false);\n        }\n      } else {\n        this.$router.push('/login');\n        this.$vLoading(false);\n      }\n    },\n    async handleLogout() {\n      this.$vLoading(true);\n      try {\n        const res = await apiLogout();\n        if (res.data.success) {\n          JWT.removeToken();\n          this.isAuthenticated = false;\n          this.$router.push('/login');\n        }\n      } catch (error) {\n        this.$vErrorNotice();\n      } finally {\n        this.$vLoading(false);\n      }\n    },\n  },\n  created() {\n    this.checkLogin();\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.back {\n  .router-link-exact-active {\n    font-weight: bold;\n    border-bottom: 3px solid #7e4c4f;\n  }\n}\n</style>\n","import { render } from \"./Admin.vue?vue&type=template&id=425b051f\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport \"./Admin.vue?vue&type=style&index=0&id=425b051f&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Admin.vue?vue&type=style&index=0&id=425b051f&lang=scss\""],"sourceRoot":""}